#add to .github/workflows
name: Tests
on: push

jobs:
  unit-tests:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Setup python
        uses: actions/setup-python@v3
        with:
          python-version: 3.11.3

      - name: Install tools
        run: pip3 install -r requirements.txt
          
      - name: Test webpages
        run: python3 tests/test_basic.py

      - name: Test registration form
        run: python3 tests/test_users.py
      
      - name: Test webpages
        run: python3 tests/test_basic.py

      - name: Test further functions
        run: python3 tests/test_further.py

  
      # error keeps coming up when I try to run the yaml:
      # Run pip3 install -r requirements.txt
      # 2
      #   pip3 install -r requirements.txt
      # 3
      #   shell: /usr/bin/bash -e {0}
      # 4
      #  env:
      # 5
      #     pythonLocation: /opt/hostedtoolcache/Python/3.11.3/x64
      # 6
      #     LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.11.3/x64/lib
      # 7
      # ERROR: Could not open requirements file: [Errno 2] No such file or directory: 'requirements.txt'
      # 8

      # 9
      # Notice:  A new release of pip is available: 22.3.1 -> 23.2.1
      # 10
      # Notice:  To update, run: pip install --upgrade pip
      # 11
      # Error: Process completed with exit code 1.
